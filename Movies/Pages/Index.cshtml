@page
@model IndexModel
@{
	ViewData["Title"] = "Home page";
}

<div class="container">
	<div class="results">

	</div>
</div>

<h1>Movies</h1>

<form method="post">
	<input type="text" name="search" />
	<label>
		<input type="checkbox" value="G" name="rating" />
		Rated G
	</label>
	<label>
		<input type="checkbox" value="PG" name="rating" />
		Rated PG
	</label>
	<label>
		<input type="checkbox" value="PG-13" name="rating" />
		Rated PG-13
	</label>
	<label>
		<input type="checkbox" value="R" name="rating" />
		Rated R
	</label>
	<label>
		<input type="checkbox" value="NC-17" name="rating" />
		Rated NC-17
	</label>

	<label>
		Minimum IMDB Rating:
		<input type="number" min="0" max="10" step="0.1" name="minIMDB" value="@Model.minIMDB"
	</label>

	<input type="submit" value="Search" />
</form>

@if (Model.Movies.Count == 0)
{
	<h2>No Results</h2>
}

@foreach (Movie movie in Model.Movies)
{
	<div class="movie-entry">
		<h2>
			@movie.Title
			@if (movie.Release_Year != null)
			{
				<span>(@movie.Release_Year)</span>
			}
		</h2>
		@if (movie.Major_Genre != null)
		{
			<div class="genre">@movie.Major_Genre</div>
		}
		@if (movie.MPAA_Rating != null)
		{ 
			<div class="rating">Rated @movie.MPAA_Rating</div>
		}
		@if (movie.Director != null)
		{ 
			<div class="director">Directed by @movie.Director</div>
		}
		<div class="rating">
			@if (movie.IMDB_Rating != null)
			{
				<div>
					<span>IMDB</span>
					@movie.IMDB_Rating
				</div>
			}
			@if (movie.Rotten_Tomatoes_Rating != null)
			{
				<div>
					<span>Rotten Tomatoes</span>
					@movie.Rotten_Tomatoes_Rating
				</div>
			}
		</div>
	</div>
}
